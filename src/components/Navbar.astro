---
const links = [
    { text: "Videos", href: "#videos" },
    { text: "Servicios", href: "#servicios" },
    { text: "Noticias", href: "#noticias" },
];
---

<nav
    class="sticky top-0 z-50 w-full border-b border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-950/80 backdrop-blur-md"
>
    <div
        class="mx-auto flex max-w-7xl items-center justify-between px-4 py-4 sm:px-6 lg:px-8"
    >
        <!-- Logo -->
        <a href="/" class="flex items-center gap-2">
            <div
                class="flex h-10 w-10 items-center justify-center rounded-lg bg-primary-600 text-white shadow-lg shadow-primary-500/30"
            >
                <span class="text-xl font-bold">I</span>
            </div>
            <span
                class="text-xl font-bold tracking-tight text-slate-900 dark:text-white"
            >
                El Rincón de <span
                    class="text-primary-600 dark:text-primary-400">Isma</span
                >
            </span>
        </a>

        <!-- Desktop Nav -->
        <div class="hidden items-center gap-8 md:flex">
            {
                links.map((link) => (
                    <a
                        href={link.href}
                        class="text-sm font-medium text-slate-600 transition-colors hover:text-primary-600 dark:text-slate-300 dark:hover:text-primary-400"
                    >
                        {link.text}
                    </a>
                ))
            }
        </div>

        <!-- Actions -->
        <div class="hidden items-center gap-4 md:flex">
            <button
                id="theme-toggle"
                class="rounded-lg p-2 text-slate-500 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800 focus:outline-none focus:ring-2 focus:ring-primary-500"
            >
                <!-- Sun Icon -->
                <svg
                    id="sun-icon"
                    class="hidden h-5 w-5"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"
                    ></path>
                </svg>
                <!-- Moon Icon -->
                <svg
                    id="moon-icon"
                    class="hidden h-5 w-5"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"
                    ></path>
                </svg>
            </button>

            <a
                href="https://app.elrincondeisma.com"
                target="_blank"
                rel="noopener noreferrer"
                class="rounded-full bg-slate-900 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-100"
            >
                Área Clientes
            </a>
        </div>

        <!-- Mobile Menu Button -->
        <button
            id="mobile-menu-btn"
            class="rounded-lg p-2 text-slate-500 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800 md:hidden"
        >
            <svg
                class="h-6 w-6"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
            >
                <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M4 6h16M4 12h16M4 18h16"></path>
            </svg>
        </button>
    </div>

    <!-- Mobile Menu -->
    <div
        id="mobile-menu"
        class="hidden border-t border-slate-200 bg-white dark:border-slate-800 dark:bg-slate-950 md:hidden"
    >
        <div class="space-y-1 px-4 py-3">
            {
                links.map((link) => (
                    <a
                        href={link.href}
                        class="block rounded-lg px-3 py-2 text-base font-medium text-slate-600 hover:bg-slate-50 hover:text-primary-600 dark:text-slate-300 dark:hover:bg-slate-900 dark:hover:text-primary-400"
                    >
                        {link.text}
                    </a>
                ))
            }
            <div
                class="mt-4 border-t border-slate-200 pt-4 dark:border-slate-800"
            >
                <a
                    href="https://app.elrincondeisma.com"
                    class="block w-full rounded-lg bg-primary-600 px-3 py-2 text-center text-base font-medium text-white hover:bg-primary-700"
                >
                    Área Clientes
                </a>
            </div>
        </div>
    </div>
</nav>

<script>
    // Mobile Menu Toggle
    const mobileMenuBtn = document.getElementById("mobile-menu-btn");
    const mobileMenu = document.getElementById("mobile-menu");

    mobileMenuBtn?.addEventListener("click", () => {
        mobileMenu?.classList.toggle("hidden");
    });

    // Theme Toggle
    const themeToggle = document.getElementById("theme-toggle");
    const sunIcon = document.getElementById("sun-icon");
    const moonIcon = document.getElementById("moon-icon");

    const updateIcons = () => {
        if (document.documentElement.classList.contains("dark")) {
            sunIcon?.classList.remove("hidden");
            moonIcon?.classList.add("hidden");
        } else {
            sunIcon?.classList.add("hidden");
            moonIcon?.classList.remove("hidden");
        }
    };

    updateIcons();

    themeToggle?.addEventListener("click", () => {
        document.documentElement.classList.toggle("dark");
        if (document.documentElement.classList.contains("dark")) {
            localStorage.theme = "dark";
        } else {
            localStorage.theme = "light";
        }
        updateIcons();
    });
</script>
